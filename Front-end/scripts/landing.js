// Dummy products data
const products = [
      {
        id: 2,
        name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
        image: "../img/products/f7.jpg",
        category: "women",
        new_price: 85.0,  
        rating: 1.5
      },
      {
        id: 3,
        name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
        image: "../img/products/f8.jpg",
        category: "women",
        new_price: 60.0,
        rating: 1.5
      },
      {
        id: 4,
        name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
        image: "../products/product_4.png",
        category: "women",
        new_price: 100.0,
        rating: 3.5
      },
      {
        id: 5,
        name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
        image: "../products/product_5.png",
        category: "women",
        new_price: 85.0,
        rating: 3.5
      },
      {
        id: 6,
        name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
        image: "../products/product_6.png",
        category: "women",
        new_price: 85.0,
        rating: 4.5
      },
      {
        id: 9,
        name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
        image: "../products/product_9.png",
        category: "women",
        new_price: 85.0,
        rating: 4.5
      },
      {
        id: 10,
        name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
        image: "../products/product_10.png",
        category: "women",
        new_price: 85.0,
        rating: 4.5
      },
      {
        id: 11,
        name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
        image: "../products/product_11.png",
        category: "women",
        new_price: 85.0,
        rating: 3.5
      },
      {
        id: 12,
        name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
        image: "../products/product_12.png",
        category: "women",
        new_price: 85.0,
        rating: 2.5
      },
      {
        id: 13,
        name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
        image: "../img/products/f2.jpg",
        category: "men",
        new_price: 85.0,
        rating: 4.5
      },
      {
        id: 14,
        name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
        image: "../img/products/f3.jpg",
        category: "men",
        new_price: 85.0,
        rating: 4.5
      },
      {
        id: 15,
        name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
        image: "../img/products/f5.jpg",
        category: "men",
        new_price: 85.0,
        rating: 3.5
      },
      {
        id: 21,
        name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
        image: "../img/products/n7.jpg",
        category: "men",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 22,
        name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
        image: "../products/product_22.png",
        category: "men",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 23,
        name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
        image: "../img/products/n4.jpg",
        category: "men",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 25,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image:"../img/products/n3.jpg",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 26,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_26.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 27,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_27.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 28,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_28.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 29,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_29.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 30,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_30.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 31,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_31.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 32,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_32.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 33,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_33.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 34,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_34.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 35,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_35.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
      {
        id: 36,
        name: "Boys Orange Colourblocked Hooded Sweatshirt",
        image: "../products/product_36.png",
        category: "kid",
        new_price: 85.0,
        rating: 1.5
      },
];

// Function to dynamically create .crd elements
function createCards() {
    const mensCardContainer = document.querySelector("#mens-card");
    const womensCardContainer = document.querySelector("#trend-sec .card");
    const kidsCardContainer = document.querySelector("#trend-kid-sec .card");

    products.forEach(product => {
        const card = document.createElement("div");
        card.classList.add("crd");
        card.innerHTML = `
            <img src="${product.image}" alt="${product.name}" onclick="showProduct(${product.id})">
            <div class="crd-text">
                <h2>${product.name}</h2>
                 ${generateStars(product.rating)}
                <br>
                <button onclick="showProduct(${product.id})">Explore</button>
            </div>
        `;
        if (product.category === "men") {
            mensCardContainer.appendChild(card);
        } else if (product.category === "women") {
            womensCardContainer.appendChild(card);
        } else if (product.category === "kid") {
            kidsCardContainer.appendChild(card);
        }
    });
}

// Function to show product details in the cart section
function showProduct(productId) {
    const product = products.find(p => p.id === productId);
    const cartImage = document.querySelector(".cart #newImg");
    const cartText = document.querySelector(".cart .cartText");


    cartImage.src = product.image;
    cartText.querySelector("h1").innerHTML = `Trends Offer: ${product.name} Shop Now`;
    cartText.querySelector("h2").innerHTML = `Special Price: $${product.new_price}`;
    cartText.querySelectorAll("p")[0].innerHTML = product.description || "Lorem ipsum dolor sit, amet consectetur adipisicing.";
    cartText.querySelectorAll("p")[1].innerHTML = "Lorem ipsum dolor sit, amet consectetur adipisicing.";
    cartText.querySelectorAll("p")[2].innerHTML = "Lorem ipsum dolor sit, amet consectetur adipisicing.";

    hideAllSections();
    document.querySelector(".cart").style.display = "block";
}


// Function to add product to cart
function addCart() {
    alert(`Product added to cart!`);
}
// function addToCart(productId) {
//     alert(`Product ${productId} added to cart!`);

// }

const back = document.querySelector(".back");
back.addEventListener('click',()=>{
  location.href='firstPage.html'
})

// Functions to manage navigation
function homes() {
    hideAllSections();
    allColorBlack();
    document.querySelector('.main').style.display = 'flex';
    document.querySelector('.trends').style.display = 'block';
    document.querySelector('#home').style.color = 'rgb(4, 125, 125)';
}

function shops() {
    hideAllSections();
    allColorBlack();
    document.querySelectorAll('.trend').forEach(element => {
        element.style.display = 'block';
    });
    document.querySelector('#shop').style.color = 'rgb(4, 125, 125)';
}

function blogs() {
    hideAllSections();
    allColorBlack();
    document.querySelector('.trends').style.display = 'block';
    document.querySelector('#blog').style.color = 'rgb(4, 125, 125)';
}

function abouts() {
    hideAllSections();
    allColorBlack();
    document.querySelector('.about').style.display = 'block';
    document.querySelector('#about').style.color = 'rgb(4, 125, 125)';
}

function contacts() {
    hideAllSections();
    allColorBlack();
    document.querySelector('.contact').style.display = 'block';
    document.querySelector('#contact').style.color = 'rgb(4, 125, 125)';

}

function hideAllSections() {
    document.querySelectorAll('.main, .trend, .trends, .about, .contact, .cart').forEach(element => {
        element.style.display = 'none';
    });
}
function allColorBlack() {
    document.querySelectorAll('#home , #shop , #blog, #about, #contact').forEach(element => {
        element.style.color = 'black';
    });
}

// Call createCards on page load
document.addEventListener("DOMContentLoaded", createCards);


function generateStars(rating) {
    const fullStars = Math.floor(rating);
    const halfStar = rating % 1 !== 0 ? '<i class="fa-solid fa-star-half-stroke"></i>' : '';
    let stars = '';

    for (let i = 0; i < fullStars; i++) {
        stars += '<i class="fa-solid fa-star"></i>';
    }
    stars += halfStar;

    return stars;
}



var arr = ["../img/banner/img/img1.png","../img/banner/img/img2.png", "../img/banner/img/img3.png", "../img/banner/img/img4.png"];
var x = 0;
setInterval(imagechange, 3000);
function imagechange() {
    document.getElementById('ads').src = (arr[x]);
    x++;
    if (x == arr.length)
        x = 0;
}